<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morro Digital</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"></script>
    <script defer src="scripts.js"></script>
</head>
<body>
    <div id="map"></div>
    
    <div class="button-container">
        <button id="menu-toggle-btn" aria-label="Toggle Menu" onclick="toggleMenu()" data-tutorial="Este √© o bot√£o de menu. Clique para abrir o menu."> '‚ò∞' </button>
        <button id="plan-trip-btn" aria-label="Plan Trip" onclick="startTravelPlanning()" data-tutorial="Clique aqui para planejar sua viagem.">üìÖ</button>
        <button id="voice-rec-btn" aria-label="Voice Recognition" onclick="startVoiceRecognition()" data-tutorial="Clique aqui para iniciar o reconhecimento de voz.">üé§</button>
        <button id="message-toggle-btn" aria-label="Toggle Message" onclick="toggleMessage()" data-tutorial="Clique aqui para abrir a caixa de mensagens.">üí¨</button>
        <button id="search-toggle-btn" aria-label="Toggle Search" onclick="toggleSearch()" data-tutorial="Clique aqui para abrir a barra de pesquisa.">üîç</button>
    </div>

    <div id="menu" class="submenu">
        <button class="menu-btn" data-submenu="history-submenu">Hist√≥ria de Morro</button>
        <div id="history-submenu" class="submenu">
            <p>A hist√≥ria de Morro de S√£o Paulo √© rica e fascinante, com ra√≠zes que remontam ao per√≠odo colonial...</p>
        </div>
        <button class="menu-btn" onclick="loadSubMenu('touristSpots-submenu')">Pontos Tur√≠sticos</button>
        <div id="touristSpots-submenu" class="submenu"></div>
        <button class="menu-btn" onclick="loadSubMenu('tours-submenu')">Passeios</button>
        <div id="tours-submenu" class="submenu"></div>
        <button class="menu-btn" onclick="loadSubMenu('beaches-submenu')">Praias</button>
        <div id="beaches-submenu" class="submenu"></div>
        <button class="menu-btn" onclick="loadSubMenu('nightlife-submenu')">Vida Noturna</button>
        <div id="nightlife-submenu" class="submenu"></div>
        <button class="menu-btn" onclick="loadSubMenu('restaurants-submenu')">Restaurantes</button>
        <div id="restaurants-submenu" class="submenu"></div>
        <button class="menu-btn" onclick="loadSubMenu('inns-submenu')">Pousadas</button>
        <div id="inns-submenu" class="submenu"></div>
        <button class="menu-btn" data-submenu="shops-submenu">Lojas</button>
        <div id="shops-submenu" class="submenu"></div>
        <button class="menu-btn" data-submenu="tips-submenu">Dicas</button>
        <div id="tips-submenu" class="submenu">
            <p>Para aproveitar melhor sua visita a Morro de S√£o Paulo, considere estas dicas...</p>
        </div>
        <button class="menu-btn" data-submenu="emergencies-submenu">Emerg√™ncias</button>
        <div id="emergencies-submenu" class="submenu">
            <p>Em caso de emerg√™ncia, ligue para os seguintes n√∫meros...</p>
        </div>
        <button class="menu-btn" data-submenu="about-submenu">Sobre</button>
        <div id="about-submenu" class="submenu">
            <p>Este site foi criado para fornecer informa√ß√µes abrangentes sobre Morro de S√£o Paulo...</p>
        </div>
        <button class="menu-btn" onclick="manageRewards()">Ganhar Recompensa</button>
        <button class="menu-btn" onclick="useRewards()">Usar Recompensa</button>
    </div>

    <div id="search-box" class="modal">
        <input type="text" id="search-input" placeholder="Pesquisar...">
        <button id="search-button" onclick="searchMap()">Pesquisar</button>
        <div id="searchResults"></div>
    </div>

    <div id="message-box" class="modal">
        <textarea id="feedback-input" placeholder="Deixe seu feedback aqui..."></textarea>
        <button id="submit-feedback-btn" onclick="sendFeedback(event)">Enviar Feedback</button>
    </div>

    <div id="welcome-modal" class="modal">
        <div class="modal-content">
            <h2 data-translate="welcome">Bem-vindo ao Morro Digital!</h2>
            <p data-translate="selectLanguage">Selecione um idioma:</p>
            <div class="language-selection">
                <button onclick="selectLanguage('pt')"><img src="bandeira_brasil.png" alt="Portugu√™s"></button>
                <button onclick="selectLanguage('es')"><img src="bandeira_espanha.png" alt="Espanhol"></button>
                <button onclick="selectLanguage('en')"><img src="bandeira_eua.png" alt="Ingl√™s"></button>
                <button onclick="selectLanguage('he')"><img src="bandeira_israel.png" alt="Hebraico"></button>
            </div>
        </div>
    </div>

    <div id="location-permission-modal" class="modal">
        <div class="modal-content">
            <h2 data-translate="locationPermission">Permiss√£o de Localiza√ß√£o</h2>
            <p data-translate="locationPermissionText">Precisamos de sua permiss√£o para acessar sua localiza√ß√£o:</p>
            <button id="allow-location-btn" onclick="requestLocationPermission()" data-translate="allow">Permitir</button>
        </div>
    </div>

    <div id="tutorial-overlay" class="tutorial-overlay">
        <div class="tutorial-content">
            <p id="tutorial-message"></p>
            <div class="tutorial-nav">
                <button id="tutorial-start-btn" class="tutorial-button" onclick="startTutorial()" data-translate="start">Come√ßar</button>
                <button id="tutorial-yes-btn" class="tutorial-button" onclick="confirmTutorial()" data-translate="yes">Sim</button>
                <button id="tutorial-no-btn" class="tutorial-button" onclick="endTutorial()" data-translate="no">N√£o</button>
                <button id="tutorial-next-btn" class="tutorial-button" onclick="nextTutorialStep()" data-translate="next">Avan√ßar</button>
                <button id="tutorial-prev-btn" class="tutorial-button" onclick="previousTutorialStep()" data-translate="prev">Voltar</button>
                <button id="tutorial-end-btn" class="tutorial-button" onclick="endTutorial()" data-translate="end">Encerrar Tutorial</button>
                <button id="tutorial-create-itinerary-btn" class="tutorial-button" onclick="createItinerary()" data-translate="tutorial-create-itinerary-btn">Criar Roteiro</button>
            </div>
            <div id="progress-bar">
                <div id="progress"></div>
            </div>
        </div>
    </div>

    <div id="tutorial-progress-container">
        <div id="tutorial-progress-bar"></div>
    </div>

    <div id="itinerary-box" class="modal">
        <div id="itinerary-content" class="modal-content"></div>
        <button onclick="closeModal('itinerary-box')" data-translate="close">Fechar</button>
    </div>

    <div id="loading-indicator" class="loading-indicator">Carregando...</div>

    <div id="weather-info" class="weather-info">
        <img id="weather-icon" src="" alt="Weather Icon">
        <div>
            <div id="weather-description"></div>
            <div id="temperature"></div>
        </div>
    </div>

    <div id="guided-tour-modal" class="modal">
        <div class="modal-content">
            <h2 data-translate="tourGuideMessage">Este √© um tour guiado pelos principais pontos tur√≠sticos de Morro de S√£o Paulo. Aproveite!</h2>
            <div id="tour-guide-content"></div>
            <button onclick="closeModal('guided-tour-modal')" data-translate="close">Fechar</button>
        </div>
    </div>
</body>
</html>
