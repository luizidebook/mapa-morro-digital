<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morro Digital</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <button id="menu-toggle-btn" onclick="toggleMenu()">☰ Menu</button>
    <div id="loading">
        <h2>Por favor, ative a geolocalização para usar o mapa.</h2>
    </div>
    <div id="map"></div>
    <div id="message-box"></div>
    <div id="menu">
        <button class="menu-btn" onclick="showMessage('historia')">História de Morro</button>
        <button class="menu-btn" onclick="handleMenuClick('pontosTuristicosSubMenu')">Pontos Turísticos</button>
        <div id="pontosTuristicosSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="handleMenuClick('passeiosSubMenu')">Passeios</button>
        <div id="passeiosSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="handleMenuClick('praiasSubMenu')">Praias</button>
        <div id="praiasSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="handleMenuClick('vidaNoturnaSubMenu')">Vida Noturna</button>
        <div id="vidaNoturnaSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="handleMenuClick('restaurantesSubMenu')">Restaurantes</button>
        <div id="restaurantesSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="handleMenuClick('pousadasSubMenu')">Pousadas</button>
        <div id="pousadasSubMenu" class="submenu"></div>
        <button class="menu-btn" onclick="showMessage('lojas')">Lojas</button>
        <button class="menu-btn" onclick="showMessage('dicas')">Dicas</button>
        <button class="menu-btn" onclick="showMessage('emergencias')">Emergências</button>
        <button class="menu-btn" onclick="showMessage('sobre')">Sobre</button>
    </div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="scripts.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }).catch(error => {
                    console.log('ServiceWorker registration failed: ', error);
                });
        }
    </script>
</body>
</html>
